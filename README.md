# 思源笔记备份脚本

用青龙面板 备份 思源笔记
- whyour/qinglong
- b3log/siyuan

- 发送登录认证请求到思源地址。
- 导出数据并下载备份文件。
- 构造保存文件名，文件名包含日期时间信息。
- 删除旧备份文件，保留指定天数内的备份文件。

  我的做法是创建青龙面板时，映射一个目录进青龙容器，
  这个目录可以是挂载的网络磁盘，也可以是磁盘，也可以是青龙本身的目录。看个人需求
  然后执行时把备份放到对应的目录下

  - 恢复数据,在设置中,点击导入选择对应的备份文件

## 使用方法

1. 在脚本中修改变量：
```bash
    # 思源地址
    QINGLONG_URL = "http://192.168.0.8:6806"
    #思源密码
    AUTH_CODE = "123456"
    #备份储存路径
    SAVE_PATH = "/mnt/1/_backups/"
    #备份文件前缀(自动删除文件标识)
    PREFIX = "backups_siyuan_"
    # 设置为0时不删除备份文件 (天)
    DAYS_TO_KEEP = 30
```

3. 青龙依赖管理 python 添加 requests 依赖库
4. 在青龙面板中设置定期执行即可

![image](https://github.com/mudebug77/siyuan_backups/assets/34656102/fd7a6def-51f1-47a3-bf8f-471e1958a816)

